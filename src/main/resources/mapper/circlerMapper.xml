<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dhu.dao.CircleDao">
    <select id="selectByName" parameterType="String" resultType="Circle">
        <bind name="pattern" value="'%' + circleName + '%'"/>
        # 模糊查询
        select * from circle where circleName like #{pattern}
    </select>

    <select id="selectTen" resultType="CircleView">
        select *
        from hotcircle
    </select>

    <select id="selectById" resultType="Circle">
        select *
        from circle
        where circle_UserId = #{userId}
    </select>

    <insert id="insertCircle" parameterType="Circle">
        insert into circle(circleName, circleImg, circleContent, circleLife, circleTime, circle_UserId)
        values (#{circleName}, #{circleImg}, #{circleContent}, #{circleLife}, #{circleTime}, #{circle_UserId})
    </insert>

    <select id="selectByCircleId" parameterType="int" resultType="Circle">
        select *
        from circle
        where circleId = #{circleId}
    </select>

    <delete id="deleteCircle" parameterType="int">
        delete
        from circle
        where circleId = #{circleId}
    </delete>

    <update id="updateCircleMaster" parameterType="Circle">
        update circle
        set circle_UserId=#{circle_UserId}
        where circleId = #{circleId}
    </update>
    <update id="updateCircleContent">
        update circle
        set circleName=#{circleName},
            circleImg=#{circleImg},
            circleContent=#{circleContent}
        where circleId = #{circleId}
    </update>

</mapper>